// Google Code Prettify
pre.prettyprint {
	overflow: auto;
	.p(.5em 1em);
	font-family: @ff-code;
	border-radius: .5rem;

	&.linenums {
		.p(0);
		// border-top-left-radius: 0;
		// border-bottom-left-radius: 0;
	}
	code {
		display: block;
		.fs(@fs-s; 1.75);
		.p(0);
	}
	ol.linenums {
		counter-reset: linenum;
		list-style: none;

		// line
		> li {
			@linenums-w: 4rem;
			counter-increment: linenum;
			.pos(relative);
			.p(0);

			&:first-child::before {
				border-top-left-radius: .5rem;
			}
			&:last-child::before {
				border-bottom-left-radius: .5rem;
			}
			// line number
			&::before {
				content: counter(linenum);
				display: block;
				.pos-l(0; sticky; 1);
				.dim(@linenums-w; 100%; border-box);
				.pr(.5rem);
				.bg(rgba(96, 96, 96, .6));
				color: #cdcdcd;
				text-align: right;
				text-shadow: .1em .1em .1em rgba(0, 0, 0, 1);
				font-style: italic;
			}
			// line highlight
			&.selected {
				.bg(rgba(127, 127, 127, .35));
			}
			> code {
				.pos-tl(0; 0; absolute);
				.pl(@linenums-w+.5rem);

				&::after {
					content: " "; // preserve empty line's height
				}
			}
		}
	}
}
